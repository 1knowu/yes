import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from sklearn.datasets import load_iris
from sklearn.decomposition import PCA

data=load_iris(as_frame=True)
iris=load_iris()
data=iris.data
labels=iris.target
label_names=iris.target_names

iris_df=pd.DataFrame(data,columns=iris.feature_names)

pca=PCA(n_components=2)
data_red=pca.fit_transform(data)
red_df=pd.DataFrame(data_red,columns=['PC1','PC2'])
red_df['label']=labels

plt.figure(figsize=(8,6))
colors=['r','g','b']

for  i,label in enumerate(np.unique(labels)):
    plt.scatter(
        red_df[red_df["label"]==label]['PC1'],
        red_df[red_df["label"]==label]['PC2'],
        label=label_names[label],
        color=colors[i])
plt.title("PCA")
plt.xlabel("actual")
plt.ylabel("prectit")
plt.legend()
plt.grid()